# 函数作用域和块作用域

## 函数中的作用域

- 考虑下面的代码

    ```function foo(a) {
      var b = 2; // 一些代码
      function bar() {
      // ...
      }
      // 更多的代码
      var c = 3;
    }```
> 无论标识符(变量)声明出现在作用域中的何处,这个标识所代表的变量或函数都将附属于所处作用域的气泡

-  函数作用域的含义是指，属于这个函数的全部变量都可以在整个函数的范围内使用及复用

- 隐藏内部实现,声明一个函数,相当于在外面作用域中把 函数中的内容"隐藏"掉,这样可以符合软件的最小特权原则(即暴露最小的内容给外部)

- 规避冲突,“隐藏”作用域中的变量和函数所带来的另一个好处，是是是可以避免同名标识符之间的冲突.
> 全局命名空间
> > 当引入多个第三方库时.
> >> 这些库通常会在全局命名空间声明一个名字足够独特的变量,然后把功能和属性都暴露在这个方法里面

> 模块管理
> > 通过依赖管理器的方式把这些库的标识符都分别的注入一个独立的作用域中

## 函数作用域
- (function name(){...})(); 函数的自调用以及新建函数表达式作用域
> 以上的函数是一个函数表达式 会自己创建一个作用域不会污染外部的作用域

## 匿名与具名
- 匿名函数书写简单,快捷,但是有几个缺点需要注意一下
> 匿名函数在栈追踪中不会现实出有意义的函数名,使得调试很困难.

> 如果没有函数名.另一个函数需要引用自身时只能使用已经过期的arguments.callee引用.比如在递归中.另一个函数需要引用自身的例子,是在时间出发后时间监听器需要解绑自身.

> 可读性降低

 _始终给函数表达式命名是一个最佳的实践_

## 立即执行函数表达式(iifE)(immediately invoked function expression)
- 一个函数若包含在一个()括号的内部,因此成为了一个表达式,通过在末尾加上另外一个( ).他就可以调用起来

- 更多人喜欢的另一种改进形式 (function name(){}()).注意 条用括号放在了里面

> 以上两种行尸都可以 任君选择

- 进阶用法 将它当作函数调用并传递参数进去 (function(student){...})(preson);  student的引用就是person

- 记住javascript中 函数可以当参数 即是(function(student){...})(function def(name){...});

## 块作用域

- 对最小暴露原则的一个扩展

- try/catch 的catch分句会创建一个块作用域,其中声明的变量仅在catch内部有效

## let
- ecmascript 新引进的关键字
> 创建块级作用域; {} 作用于块级作用域

## const 常量 作用域块级作用域
